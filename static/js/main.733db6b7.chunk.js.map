{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App/App.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","utils/api/apiService.js","settings/settings.js","components/Modal/Modal.jsx","components/Button/Button.jsx","utils/scroll/scroll.js","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","src","tags","modalImg","toggleModal","className","styles","onClick","alt","ImageGalleryItem__image","ImageGallery","images","map","id","webformatURL","largeImageURL","App","type","color","height","width","timeout","Component","Searchbar","state","query","handleChange","event","value","target","setState","handleSubmit","preventDefault","onSubmit","props","SearchForm","this","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","isLoading","API_KEY","BASE_URL","options","apiService","page","a","request","axios","get","response","hits","data","alert","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","Button","title","handleClickLoadMore","scroll","documentElement","scrollHeight","scrollTo","top","behavior","showModal","modalPic","modalAltText","currentPage","error","getImages","prev","submitHandler","text","toLowerCase","length","prevProps","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.733db6b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2wiUO\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__51egL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ZR1G\",\"Modal\":\"Modal_Modal__1jN8M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2SU4I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3aG8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1YwTK\"};","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nconst ImageGalleryItem = ({ src, tags, modalImg, toggleModal }) => {\n  const handleClick = () => {\n    toggleModal(modalImg, tags);\n  };\n  return (\n    <li className={styles.ImageGalleryItem} onClick={handleClick}>\n      <img src={src} alt={tags} className={styles.ImageGalleryItem__image} />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  src: PropTypes.string,\n  tags: PropTypes.string,\n  modalImg: PropTypes.string,\n  toggleModal: PropTypes.func,\n};\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          src={webformatURL}\n          alt={tags}\n          modalImg={largeImageURL}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  toggleModal: PropTypes.func,\n};\nexport default ImageGallery;\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nexport default class App extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Oval\"\n        color=\"#00BFFF\"\n        height={40}\n        width={40}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import { Component } from 'react';\nimport Loader from '../Loader';\nimport styles from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    const {\n      target: { value },\n    } = event;\n\n    this.setState(() => ({\n      query: value,\n    }));\n  };\n  handleSubmit = event => {\n    event.preventDefault();\n    const { onSubmit } = this.props;\n    const { query } = this.state;\n    onSubmit(query);\n    this.setState(() => ({ query: '' }));\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={this.state.query}\n          />\n          {this.props.isLoading && <Loader />}\n        </form>\n      </header>\n    );\n  }\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n  isLoading: PropTypes.bool,\n};\nexport default Searchbar;\n","import axios from 'axios';\nimport settings from '../../settings/settings';\nconst { API_KEY, BASE_URL } = settings;\nconst options = {\n  imageType: 'photo',\n  orientation: 'horizontal',\n  resultsPerPage: 12,\n};\nconst apiService = async (query, page) => {\n  const request = `${BASE_URL}?image_type=${options.imageType}&orientation=${options.orientation}&q=${query}&page=${page}&per_page=${options.resultsPerPage}&key=${API_KEY}`;\n  try {\n    const response = await axios.get(request);\n    const {\n      data: { hits },\n    } = response;\n    return hits;\n  } catch (error) {\n    alert('Please enter a more specific word');\n    return null;\n  }\n};\nexport default apiService;\n","const API_KEY = '20604497-76eef09585394ebdddc8f0af4';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { API_KEY, BASE_URL };\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    const { target, currentTarget } = event;\n\n    if (currentTarget === target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nModal.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  onClose: PropTypes.func,\n};\nexport default Modal;\n","import styles from './Button.module.css';\nimport PropTypes from 'prop-types';\nconst Button = ({ type = 'button', title = 'Button', handleClickLoadMore }) => {\n  const handlerClick = () => {\n    return handleClickLoadMore();\n  };\n  return (\n    <button type={type} onClick={handlerClick} className={styles.Button}>\n      {title}\n    </button>\n  );\n};\nButton.propTypes = {\n  type: PropTypes.string,\n  title: PropTypes.string,\n  handleClickLoadMore: PropTypes.func,\n};\nexport default Button;\n","const scroll = () => {\n  const height = document.documentElement.scrollHeight;\n  window.scrollTo({\n    top: height,\n    behavior: 'smooth',\n  });\n};\nexport default scroll;\n","import { Component } from 'react';\nimport ImageGallery from '../ImageGallery';\nimport Searchbar from '../Searchbar';\nimport apiService from '../../utils/api/apiService';\nimport Modal from '../Modal/Modal';\nimport Button from '../Button/Button';\nimport scrollTo from '../../utils/scroll/scroll.js';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    showModal: false,\n    modalPic: '',\n    modalAltText: '',\n    currentPage: 1,\n    error: null,\n    isLoading: false,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState(() => ({ isLoading: true }));\n      this.getImages();\n    }\n    if (prevState.images.length !== 0) {\n      scrollTo();\n    }\n  }\n\n  getImages = async () => {\n    const { query, currentPage } = this.state;\n    const images = await apiService(query, currentPage);\n    if (!images) {\n      this.setState(() => ({ isLoading: false }));\n      return;\n    }\n    this.setState(prev => ({\n      images: [...prev.images, ...images],\n      currentPage: prev.currentPage + 1,\n      isLoading: false,\n    }));\n  };\n\n  submitHandler = text => {\n    const { query, images } = this.state;\n    const isSpecificQuery =\n      text.toLowerCase() === query.toLowerCase() && images.length !== 0;\n    if (isSpecificQuery) {\n      alert(\n        'Please enter a more specific word or explore the button \"Load more\"',\n      );\n      return;\n    }\n    this.setState(() => ({\n      query: text,\n      images: [],\n      currentPage: 1,\n      error: null,\n    }));\n  };\n\n  toggleModal = (modalImg, tags) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalPic: modalImg,\n      modalAltText: tags,\n    }));\n  };\n\n  handleClickLoadMore = () => {\n    this.setState(() => ({ isLoading: true }));\n    this.getImages();\n  };\n\n  render() {\n    return (\n      <div className={styles.App}>\n        <Searchbar\n          onSubmit={this.submitHandler}\n          isLoading={this.state.isLoading}\n        />\n        <ImageGallery\n          images={this.state.images}\n          toggleModal={this.toggleModal}\n        />\n        {this.state.showModal && (\n          <Modal\n            src={this.state.modalPic}\n            alt={this.state.modalAltText}\n            onClose={this.toggleModal}\n          />\n        )}\n        {this.state.images.length !== 0 && (\n          <Button\n            title={'Load more'}\n            handleClickLoadMore={this.handleClickLoadMore}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__34voP\",\"SearchForm\":\"Searchbar_SearchForm__3_L_-\",\"SearchForm__button\":\"Searchbar_SearchForm__button__CMTTF\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__20RgF\",\"SearchForm__input\":\"Searchbar_SearchForm__input__15NKm\"};"],"sourceRoot":""}